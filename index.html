<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ownly - Coming Soon</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="container">
        <!-- HERO SECTION (Attention) -->
        <section class="hero">
            <h1 class="headline">Own Your Digital Life</h1>
            <p class="subheadline">Take back control of your data with one simple platform that puts you first.</p>
            <div class="hero-visual">
                <div class="placeholder-visual">Hero Image Placeholder</div>
            </div>
            <form id="hero-form" class="cta-form">
                <input
                    type="email"
                    id="hero-email"
                    name="email"
                    placeholder="Enter your email"
                    required
                    autocomplete="email"
                >
                <button type="submit" class="cta-button">Get Early Access</button>
                <div id="hero-message" class="message" aria-live="polite"></div>
            </form>
            <p class="guarantee">No credit card required • Cancel anytime</p>
        </section>

        <!-- PROBLEM SECTION (Agitate Pain) -->
        <section class="problem">
            <h2 class="section-title">Tired of Big Tech Controlling Your Data?</h2>
            <div class="pain-points">
                <div class="pain-point">
                    <span class="pain-icon">✗</span>
                    <p>Your personal information sold to advertisers</p>
                </div>
                <div class="pain-point">
                    <span class="pain-icon">✗</span>
                    <p>Privacy policies that change without notice</p>
                </div>
                <div class="pain-point">
                    <span class="pain-icon">✗</span>
                    <p>Data scattered across dozens of platforms</p>
                </div>
            </div>
        </section>

        <!-- SOLUTION SECTION -->
        <section class="solution">
            <h2 class="section-title">Introducing Ownly</h2>
            <p class="solution-intro">The platform that gives you complete control over your digital life.</p>
            <div class="benefits">
                <div class="benefit">
                    <span class="benefit-icon">✓</span>
                    <h3>Your Data, Your Rules</h3>
                    <p>You decide who sees your information and when</p>
                </div>
                <div class="benefit">
                    <span class="benefit-icon">✓</span>
                    <h3>Everything in One Place</h3>
                    <p>Access all your files, photos, and memories from anywhere</p>
                </div>
                <div class="benefit">
                    <span class="benefit-icon">✓</span>
                    <h3>Privacy by Default</h3>
                    <p>Built from the ground up with your privacy in mind</p>
                </div>
            </div>
        </section>

        <!-- HOW IT WORKS -->
        <section class="how-it-works">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Sign Up</h3>
                        <p>Create your account in seconds</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Import Your Data</h3>
                        <p>Bring everything together in one secure place</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Take Control</h3>
                        <p>Enjoy true ownership of your digital life</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- FINAL CTA -->
        <section class="final-cta">
            <h2 class="cta-headline">Ready to Own Your Data?</h2>
            <p class="cta-subtext">Join thousands who are taking back control</p>
            <form id="footer-form" class="cta-form">
                <input
                    type="email"
                    id="footer-email"
                    name="email"
                    placeholder="Enter your email"
                    required
                    autocomplete="email"
                >
                <button type="submit" class="cta-button">Get Early Access</button>
                <div id="footer-message" class="message" aria-live="polite"></div>
            </form>
            <p class="guarantee">No credit card required • Cancel anytime</p>
        </section>

        <footer class="footer">
            <p>&copy; 2026 Ownly. All rights reserved. <span style="opacity:0.5">v2.0</span></p>
        </footer>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
    var supabase = window.supabase.createClient(
        'https://ldabzqoxgogwxixicpml.supabase.co',
        'sb_publishable_262uXsz-j2gr1HZA_1ukSA_m2Z1_Q39'
    );

    function handleFormSubmit(formId, emailId, messageId, buttonText) {
        document.getElementById(formId).addEventListener('submit', async function(e) {
            e.preventDefault();
            var email = document.getElementById(emailId).value.trim().toLowerCase();
            var btn = e.target.querySelector('button[type="submit"]');
            var msg = document.getElementById(messageId);

            if (!email) { msg.textContent = 'Please enter your email'; msg.className = 'message error show'; return; }

            // Validate email format
            var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailRegex.test(email)) {
                // Find invalid characters
                var validChars = /[a-zA-Z0-9._%+-@-]/g;
                var invalidChars = email.replace(validChars, '').split('').filter(function(v, i, a) { return a.indexOf(v) === i; });
                if (invalidChars.length > 0) {
                    msg.textContent = 'Invalid character(s): ' + invalidChars.join(', ');
                } else {
                    msg.textContent = 'Please enter a valid email address';
                }
                msg.className = 'message error show';
                return;
            }

            var originalText = btn.textContent;
            btn.disabled = true;
            btn.textContent = 'Joining...';

            try {
                var result = await supabase.from('waitlist').insert([{ email: email }]);
                if (result.error) {
                    // Handle duplicate email error
                    if (result.error.code === '23505' || result.error.message.includes('duplicate key')) {
                        msg.textContent = 'This email is already on the waitlist!';
                    } else {
                        msg.textContent = 'Something went wrong. Please try again.';
                    }
                    msg.className = 'message error show';
                } else {
                    window.location.href = 'thanks.html';
                }
            } catch(err) {
                msg.textContent = 'Something went wrong. Please try again.';
                msg.className = 'message error show';
            }
            btn.disabled = false;
            btn.textContent = originalText;
        });
    }

    // Attach handlers to both forms
    handleFormSubmit('hero-form', 'hero-email', 'hero-message', 'Get Early Access');
    handleFormSubmit('footer-form', 'footer-email', 'footer-message', 'Get Early Access');
    </script>
</body>
</html>
